---
layout: blog
title: 运维友好
---
# java和C++的多态实现
## C++多态实现
### C++对象内存布局
C++对象分为继承下的对象和普通对象: 
      
普通对象:
     成员+成员函数，按照声明顺序在内存中排列
        
单继承对象:
    vptr（虚指针） 指向一个虚函数表，表中依次排列父类和本类的method，假设有虚函数，则指向父类相应的method的指针被替换为指向子类。 最后以NULL为结束（不同平台实现不同）
![Alt text](http://coolshell.cn//wp-content/uploads/2014/12/01.jpg) 
多重继承对象:
![Alt text](http://coolshell.cn//wp-content/uploads/http://coolshell.cn//wp-content/uploads/2014/12/09.jpg)
    
## java多态实现
#### 内存分布
![Alt text](https://www.ibm.com/developerworks/cn/java/j-lo-polymorph/image005.jpg)

